---
import { Image } from "astro:assets";

import { partners } from "~/data/index.js";

import FullSection from "./FullSection.astro";
import BodyText from "./BodyText.astro";
import HeadingFlanked from "./HeadingFlanked.astro";
---

<FullSection>
	<HeadingFlanked id="partners">Partners</HeadingFlanked>

	<BodyText size="large" width="lean">
		Our partners are lovely friends in the industry who also work to push the
		state of web dev tooling forward.
	</BodyText>

	<div class="partners">
		{
			partners.map((partner) => (
				<a
					href={partner.href}
					rel="noreferrer"
					target="_blank"
					title={partner.title}
				>
					<Image
						alt=""
						class="partner-logo partner-logo-dark"
						src={partner.logos.dark}
						height={120}
					/>
					<Image
						alt=""
						class="partner-logo partner-logo-light"
						src={partner.logos.light}
						height={120}
					/>
				</a>
			))
		}
	</div>
</FullSection>

<style>
	.partners {
		align-items: center;
		display: flex;
		flex-direction: column;
		padding: 2rem;
		justify-content: center;
		margin: auto;
		max-width: 90vw;
	}

	.partner-logo {
		transform: scale(0.9);
	}

	html.dark .partner-logo-light,
	html:not(.dark) .partner-logo-dark {
		display: none;
	}

	@media (min-width: 490px) {
		.partner-logo {
			transform: none;
		}
	}

	@media (min-width: 819px) {
		.partners {
			flex-direction: row;
			gap: 4rem;
		}

		.partners a {
			padding: 1.5rem 3.5rem;
		}
	}
</style>
